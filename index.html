<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kelas BISINDO Cianjur - Login</title>
    <style>
        body { font-family: sans-serif; text-align: center; padding: 20px; }
        .container { max-width: 400px; margin: auto; border: 1px solid #ccc; padding: 20px; border-radius: 8px; }
        input, select, button { width: 100%; margin: 8px 0; padding: 10px; box-sizing: border-box; }
        .hidden { display: none; }
    </style>
</head>
<body>

<div class="container">
    <h2>Kelas BISINDO Cianjur</h2>
    <p>Belajar Bahasa Isyarat Lebih Mudah</p>

    <div id="login-section">
        <h3>Login</h3>
        <input type="email" id="login-email" placeholder="Masukkan Email">
        <button onclick="login()">Masuk</button>
        <p>Belum punya akun? <a href="#" onclick="toggleView('register-section')">Daftar di sini</a></p>
        <p><small><i>Untuk ke halaman admin, gunakan email: admin@cianjur.com</i></small></p>
    </div>

    <div id="register-section" class="hidden">
        <h3>Daftar Peserta</h3>
        <input type="text" id="reg-nama" placeholder="Nama Lengkap" required>
        <select id="reg-gender">
            <option value="Laki-laki">Laki-laki</option>
            <option value="Perempuan">Perempuan</option>
        </select>
        <input type="text" id="reg-alamat" placeholder="Alamat">
        <input type="text" id="reg-pekerjaan" placeholder="Pekerjaan">
        <input type="email" id="reg-email" placeholder="Email" required>
        <button onclick="register()">Daftar</button>
        <p>Sudah punya akun? <a href="#" onclick="toggleView('login-section')">Kembali ke Login</a></p>
    </div>
</div>

<script>
    function toggleView(showId) {
        document.getElementById('login-section').classList.add('hidden');
        document.getElementById('register-section').classList.add('hidden');
        document.getElementById(showId).classList.remove('hidden');
    }

    function register() {
        const nama = document.getElementById('reg-nama').value;
        const gender = document.getElementById('reg-gender').value;
        const alamat = document.getElementById('reg-alamat').value;
        const pekerjaan = document.getElementById('reg-pekerjaan').value;
        const email = document.getElementById('reg-email').value;

        if(!nama || !email) return alert("Nama dan Email wajib diisi!");

        let users = JSON.parse(localStorage.getItem('bisindo_users')) || [];
        users.push({ nama, gender, alamat, pekerjaan, email });
        localStorage.setItem('bisindo_users', JSON.stringify(users));
        
        alert("Pendaftaran berhasil! Silakan login.");
        toggleView('login-section');
    }

    function login() {
        const email = document.getElementById('login-email').value;
        if (email === 'admin@cianjur.com') {
            window.location.href = 'admin.html';
        } else {
            let users = JSON.parse(localStorage.getItem('bisindo_users')) || [];
            let userExists = users.find(u => u.email === email);
            if (userExists) {
                window.location.href = 'dashboard.html';
            } else {
                alert("Email tidak ditemukan. Silakan daftar terlebih dahulu.");
            }
        }
    }
</script>
</body>
</html>
